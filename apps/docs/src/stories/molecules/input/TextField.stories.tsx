import { ComponentStory, ComponentMeta } from '@storybook/react'

import { TextField } from 'ui'
import { useForm } from 'react-hook-form'

export default {
  title: 'Molecules/TextField',
  component: TextField,
  argTypes: {
    backgroundColor: { control: 'color' },
  },
} as ComponentMeta<typeof TextField>

const Template: ComponentStory<typeof TextField> = ({ name, control: c, ...args }) => {
  const { control } = useForm<{ [key: string]: string }>()
  return (
    <TextField
      control={control}
      name={name || 'name'}
      rules={{ required: 'This field is required' }}
      {...args}
    />
  )
}

export const Default = Template.bind({})
Default.args = {
  label: 'Name',
  name: 'name',
}

export const Disabled = Template.bind({})
Disabled.args = {
  label: 'Disabled',
  name: 'disabled',
  disabled: true,
}

export const WithRightIcon = Template.bind({})
WithRightIcon.args = {
  label: 'Password',
  name: 'password',
  type: 'password',
  rightIcon: (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M2.8536 12.2727C2.95812 12.4563 3.1066 12.7064 3.29764 13.0022C3.72047 13.6569 4.34686 14.5279 5.16079 15.3961C6.80232 17.1471 9.11781 18.7955 12 18.7955C14.8822 18.7955 17.1977 17.1471 18.8392 15.3961C19.6531 14.5279 20.2795 13.6569 20.7024 13.0022C20.8934 12.7064 21.0419 12.4563 21.1464 12.2727C21.0419 12.0891 20.8934 11.8391 20.7024 11.5433C20.2795 10.8886 19.6531 10.0175 18.8392 9.14932C17.1977 7.39835 14.8822 5.75 12 5.75C9.11781 5.75 6.80232 7.39835 5.16079 9.14932C4.34686 10.0175 3.72047 10.8886 3.29764 11.5433C3.1066 11.8391 2.95812 12.0891 2.8536 12.2727ZM22 12.2727C22.6708 11.9373 22.6705 11.9368 22.6705 11.9368L22.6692 11.9341L22.6663 11.9283L22.6564 11.9089C22.648 11.8926 22.636 11.8696 22.6205 11.8403C22.5895 11.7816 22.5443 11.6979 22.485 11.5925C22.3666 11.382 22.1918 11.0847 21.9624 10.7295C21.5046 10.0205 20.8241 9.0734 19.9335 8.12341C18.166 6.23801 15.4814 4.25 12 4.25C8.51855 4.25 5.83404 6.23801 4.06648 8.12341C3.17586 9.0734 2.49544 10.0205 2.03758 10.7295C1.80819 11.0847 1.63344 11.382 1.515 11.5925C1.45575 11.6979 1.41051 11.7816 1.37948 11.8403C1.36397 11.8696 1.352 11.8926 1.34361 11.9089L1.33371 11.9283L1.33077 11.9341L1.32981 11.9361C1.32981 11.9361 1.32918 11.9373 2 12.2727L1.32918 11.9373C1.22361 12.1485 1.22361 12.397 1.32918 12.6081L2 12.2727C1.32918 12.6081 1.32918 12.6081 1.32918 12.6081L1.33077 12.6113L1.33371 12.6171L1.34361 12.6365C1.352 12.6528 1.36397 12.6759 1.37948 12.7052C1.41051 12.7638 1.45575 12.8476 1.515 12.9529C1.63344 13.1635 1.80819 13.4608 2.03758 13.816C2.49544 14.5249 3.17586 15.4721 4.06648 16.422C5.83404 18.3074 8.51855 20.2955 12 20.2955C15.4814 20.2955 18.166 18.3074 19.9335 16.422C20.8241 15.4721 21.5046 14.5249 21.9624 13.816C22.1918 13.4608 22.3666 13.1635 22.485 12.9529C22.5443 12.8476 22.5895 12.7638 22.6205 12.7052C22.636 12.6759 22.648 12.6528 22.6564 12.6365L22.6663 12.6171L22.6692 12.6113L22.6702 12.6094C22.6702 12.6094 22.6708 12.6081 22 12.2727ZM22 12.2727L22.6708 12.6081C22.7764 12.397 22.7761 12.1479 22.6705 11.9368L22 12.2727ZM12.0002 10.2955C10.9082 10.2955 10.0229 11.1807 10.0229 12.2727C10.0229 13.3648 10.9082 14.25 12.0002 14.25C13.0922 14.25 13.9775 13.3648 13.9775 12.2727C13.9775 11.1807 13.0922 10.2955 12.0002 10.2955ZM8.52295 12.2727C8.52295 10.3523 10.0798 8.79547 12.0002 8.79547C13.9207 8.79547 15.4775 10.3523 15.4775 12.2727C15.4775 14.1932 13.9207 15.75 12.0002 15.75C10.0798 15.75 8.52295 14.1932 8.52295 12.2727Z"
        fill="currentColor"
      />
    </svg>
  ),
}

export const WithLeftIcon = Template.bind({})
WithLeftIcon.args = {
  label: 'Location',
  name: 'location',
  leftIcon: (
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M12.7949 21.8253C12.7652 21.8459 12.7421 21.8617 12.726 21.8726C12.4751 22.042 12.1504 22.0429 11.898 21.8726C11.8819 21.8617 11.8587 21.8459 11.8291 21.8253C11.7697 21.7842 11.6842 21.7241 11.5762 21.6461C11.3602 21.4901 11.0539 21.2621 10.6875 20.9703C9.95572 20.3876 8.97819 19.5461 7.99828 18.5117C6.06701 16.4732 4 13.5535 4 10.312C4 8.1075 4.87572 5.99331 6.43452 4.43452C7.99331 2.87572 10.1075 2 12.312 2C14.5164 2 16.6306 2.87572 18.1894 4.43452C19.7482 5.99331 20.6239 8.1075 20.6239 10.312C20.6239 13.5535 18.5569 16.4732 16.6257 18.5117C15.6457 19.5461 14.6682 20.3876 13.9364 20.9703C13.57 21.2621 13.2638 21.4901 13.0478 21.6461C12.9397 21.7241 12.8542 21.7842 12.7949 21.8253ZM12.312 3.3959C10.4777 3.3959 8.71858 4.12456 7.42157 5.42157C6.12456 6.71858 5.3959 8.47771 5.3959 10.312C5.3959 12.9924 7.1359 15.5718 9.01164 17.5517C9.93523 18.5266 10.8612 19.3242 11.557 19.8783C11.8598 20.1194 12.118 20.3136 12.312 20.4553C12.506 20.3136 12.7641 20.1194 13.0669 19.8783C13.7627 19.3242 14.6887 18.5266 15.6123 17.5517C17.488 15.5718 19.228 12.9924 19.228 10.312C19.228 8.47771 18.4994 6.71858 17.2024 5.42157C15.9053 4.12456 14.1462 3.3959 12.312 3.3959Z"
        fill="currentColor"
      />
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M12.3116 7.07597C10.5244 7.07597 9.0756 8.52475 9.0756 10.3119C9.0756 12.0991 10.5244 13.5479 12.3116 13.5479C14.0987 13.5479 15.5475 12.0991 15.5475 10.3119C15.5475 8.52475 14.0987 7.07597 12.3116 7.07597ZM10.4715 10.3119C10.4715 9.29569 11.2953 8.47187 12.3116 8.47187C13.3278 8.47187 14.1516 9.29569 14.1516 10.3119C14.1516 11.3282 13.3278 12.152 12.3116 12.152C11.2953 12.152 10.4715 11.3282 10.4715 10.3119Z"
        fill="currentColor"
      />
    </svg>
  ),
}

export const InForm: ComponentStory<typeof TextField> = () => {
  const { control, handleSubmit } = useForm<{ [key: string]: string }>()
  const displayError = () => {}
  return (
    <form onSubmit={handleSubmit(displayError)}>
      <TextField
        control={control}
        name={'name'}
        rules={{ required: 'This field is required' }}
        label="First name"
      />
      <TextField
        control={control}
        name={'lastname'}
        rules={{ required: 'This field is required' }}
        label="Last name"
      />
      <button type="submit">Submit</button>
    </form>
  )
}
